{% extends "./administrador.html" %}

{% block contenido %}
{% load static %}
<body>
    <br><br><br><br>
    <center><h1 style="font-family: 'Times New Roman', serif; color: #333333;">Sistema de Seguimiento de Estudiantes Becarios</h1></center>

    <div class="row">
        <!-- Columna 1: Información de Estudiantes -->
        <div class="col-md-4">
            <div class="card-deck">
                <!-- Tarjeta de Total de Estudiantes -->
                <div class="col-md-12 mb-3">
                    <div class="card text-white bg-primary mb-3">
                        <div class="card-header" style="color: #333333;">Total de Estudiantes</div>
                        <div class="card-body" style="color: #333333;">
                            <h5 class="card-title" style="color: #333333;">Estudiantes Registrados</h5>
                            <p class="card-text" style="font-size: 1em; color: #333333;">{{ total_estudiantes }}</p>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta de Estudiantes Activos -->
                <div class="col-md-12 mb-3">
                    <div class="card text-white bg-success mb-3">
                        <div class="card-body" style="color: #333333;">
                            <h5 class="card-title" style="color: #333333;">Estudiantes Activos</h5>
                            <p class="card-text" style="font-size: 1em; color: #333333;">
                                {{ estudiantes_activos|length }}
                            </p>
                            <div class="progress" style="height: 5px; margin-top: 5px;">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta de Estudiantes Desertores -->
                <div class="col-md-12 mb-3">
                    <div class="card text-white bg-danger mb-3">
                        <div class="card-body" style="color: #333333;">
                            <h5 class="card-title" style="color: #333333;">Estudiantes Desertores</h5>
                            <p class="card-text" style="font-size: 1em; color: #333333;">
                                {{ estudiantes_desertores|length }}
                            </p>
                            <div class="progress" style="height: 5px; margin-top: 5px;">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta de Estudiantes Graduados -->
                <div class="col-md-12 mb-3">
                    <div class="card text-white bg-warning mb-3">
                        <div class="card-body" style="color: #333333;">
                            <h5 class="card-title" style="color: #333333;">Estudiantes Graduados</h5>
                            <p class="card-text" style="font-size: 1em; color: #333333;">
                                {{ estudiantes_graduados|length }}
                            </p>
                            <div class="progress" style="height: 5px; margin-top: 5px;">
                                <div class="progress-bar bg-warning" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta de Total de Universidades -->
                <div class="col-md-12 mb-3">
                    <div class="card text-white bg-info mb-3">
                        <div class="card-body" style="color: #333333;">
                            <h5 class="card-title" style="color: #333333;">Total de Universidades</h5>
                            <p class="card-text" style="font-size: 1em; color: #333333;">{{ total_universidades }}</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Columna 2: Dashboard de Universidades -->
        <div class="col-md-4">
            <div class="card text-white bg-secondary mb-3">
                <div class="card-header" style="color: #333333;">Estudiantes por Universidad</div>
                <div class="card-body" style="color: #333333;">
                    <h5 class="card-title" style="color: #333333;">Número de Estudiantes por Universidad</h5>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Universidad</th>
                                <th>Estudiantes</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for universidad in estudiantes_por_universidad %}
                                <tr>
                                    <td>{{ universidad.universidad__nombre }}</td>
                                    <td>{{ universidad.total }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Columna 3: Monto Pagado por Mes -->
        <div class="col-md-4">
            <div class="card text-white bg-secondary mb-3">
                <div class="card-header" style="color: #333333;">Total de Monto Pagado por Mes</div>
                <div class="card-body" style="color: #333333;">
                    <h5 class="card-title" style="color: #333333;">Monto Total Pagado por Mes</h5>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Mes</th>
                                <th>Total Pagado</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for pago in pagos_por_mes %}
                                <tr>
                                    <td>{{ pago.month|date:"F Y" }}</td>
                                    <td>{{ pago.total_pago|floatformat:2 }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</body>
{% endblock %}
